<!DOCTYPE <!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title> Ana Valin </title>
        <meta name="Devs" content="Amanda Linhares e Luiz Rubioli">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="styleaddMusicasClipes.css">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap');
                @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab&family=Rock+Salt&display=swap');
                </style>
    </head>

    <body id="body">                    
        <header>
                <button type="button" class="btnAcessoRestrito" onclick="location.href='/indexhome.html'" > LOGOUT ADM  </button>
                <h1>Ana Valin</h1>
        </header>
        <main>
              <aside > 
                    <h2>MÚSICAS <br> E CLIPES</h2>
                    <button type="button" class="btnVoltar" onclick="location.href='/homeAdm.html'"> voltar </button>
                <div class="conteudo"> 
                      <!--botâo submit para salvar os dados e fazer as alterações-->
                    <button type="submit" class="btnConfirmarCadastro" id="btnConfirmarCadastro"> confirmar cadastro  </button>
                      <!--input file para receber a foto de capa do card novo-->
                    <input type="file" name="fileUpload" id="fileUpload" class="fileUpload" hidden >
                    <label for="fileUpload"> upload foto de capa </label>
                    <h6 id="informativo"> ** Tamanho máximo para foto de 5 MB ** </h6>
                      <!-- card contendo inputs para capturarem os valores das novas urls-->
                    <div class="card">
                        <input type="url" id="btnApple" class="Uploadd" name="btnApple" placeholder="Insira URL Apple Music" >
                        <input type="url" id="btnDeezer" class="Uploadd1" name="btnDeezer" placeholder= "Insira URL Deezer">
                        <input type="url" id="btnSpotify" class="Uploadd1" name="btnSpotify" placeholder="Insira URL Spotify" >
                        <input type="url" id="btnTidal" class="Uploadd1" name="btnTidal" placeholder="Insira URL Tidal" >
                        <input type="url" id="btnYoutube" class="Uploadd1" name="btnYoutube" placeholder="Insira URL Youtube" >
                     </div> 
                </div>
              </aside>                                  
        </main>
        <footer class="rodape">             
                <h6>2021 - TODOS OS DIREITOS RESERVADOS &copy; - ANAVALIN.COM.BR</h6>      
        </footer>
    </body>
 <script>
     //script para carregar a foto de fundo
       const fileUpload = localStorage.getItem('fileUpload')
        document.addEventListener("DOMContentLoaded", () =>{            
                  
        if (fileUpload !== null){
            var bodyFoto = document.getElementById("body");
            bodyFoto.style.backgroundImage = `url(${fileUpload})`;;
        } 
    })
       
      //script para ao clicar no botao submit receber os valores de todos os inputs e salvá-los no localStorage 
    const btnConfirmarCadastro = document.getElementById("btnConfirmarCadastro");
    btnConfirmarCadastro.addEventListener('click', (e) => {
        alert ("Cadastro salvo com sucesso!") 
        let urlAppleM =  document.getElementById("btnApple").value;
        localStorage.setItem("urlAppleM", urlAppleM);
        let urlDeezerM = document.getElementById("btnDeezer").value;
        localStorage.setItem("urlDeezerM", urlDeezerM);
        let urlSpotifyM = document.getElementById("btnSpotify").value;
        localStorage.setItem("urlSpotifyM", urlSpotifyM)
        let urlTidalM= document.getElementById("btnTidal").value;
        localStorage.setItem("urlTidalM", urlTidalM);
        let urlYoutubeM =  document.getElementById("btnYoutube").value;
        localStorage.setItem("urlYoutubeM", urlYoutubeM);
        location.reload()
        });
        //script para armazenar a foto de capa do card novo
        document.querySelector("#fileUpload").addEventListener("change", function () {           
            const reader = new FileReader();
            reader.addEventListener("load", () => {
                localStorage.setItem("backgroundCard", reader.result);
                alert("Foto selecionada com sucesso!")  
            });
            reader.readAsDataURL(this.files[0]);
        });
    </script>
</html>