<!DOCTYPE <!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title> Ana Valin </title>
        <meta name="Devs" content="Amanda Linhares e Luiz Rubioli">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="stylealterarAgenda.css">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap');            
                @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab&family=Rock+Salt&display=swap');
                </style>
    </head>

    <body id="body">
        <header>
            <button type="button" class="btnAcessoRestrito" onclick="location.href='/indexhome.html'" > LOGOUT ADM </button>                 
            <h1>Ana Valin</h1>
        </header>
        <main>
            <button type="button" class="btnVoltar" onclick="location.href='/homeAdm.html'"> voltar </button> 
            <button type="button" class="btnAddEvento" onclick="location.href='/agendaAddEvento.html'"> adicione novo evento  </button>
                <div class="conteudo" id= "conteudo" > 
                    <h3 class="abre"></h3>
                </div>                                
        </main>  
        <footer class="rodape"> 
                <h6>2021 - TODOS OS DIREITOS RESERVADOS &copy; - ANAVALIN.COM.BR</h6>
        </footer>
    </body>
    <script> //script para carregar a foto de fundo
          const fileUpload = localStorage.getItem('fileUpload')
        document.addEventListener("DOMContentLoaded", () =>{   
        if (fileUpload != null){
            var bodyFoto = document.getElementById("body");
            bodyFoto.style.backgroundImage = `url(${fileUpload})`;;
        }
    })
     //script para impress√£o dos eventos 
        let localOriginal = localStorage.getItem('localOriginal')
        let  dataOriginal = localStorage.getItem('dataOriginal')
        let cidadeOriginal = localStorage.getItem('cidadeOriginal')
        var divconteudo = document.getElementById("conteudo")
         if(localOriginal !== 'null' ){
            divconteudo.innerHTML +=  `<p id=" eventoOriginal"><aside><h4 class= "style" id="dataLocal"> ${dataOriginal} <br> <br> <br> ${localOriginal} </h4><button type="button" class="btnExcluir" id="btnExcluir">    </button><h5 class= "style1" id="cidade"> ${cidadeOriginal}</h5> </aside> <h3 class="fecha1"></h3></p>`;
        }
        let local = localStorage.getItem('local')
        let  data = localStorage.getItem('data')
        let cidade = localStorage.getItem('cidade')
        var divconteudo = document.getElementById("conteudo")
         if(local !== 'null' ){
            divconteudo.innerHTML +=  `<p id=" evento"><aside><h4 class= "style2" id="dataLocal"> ${data} <br> <br> <br> ${local} </h4><button type="button" class="btnExcluir1" id="btnExcluir1">    </button><h5 class= "style3" id="cidade"> ${cidade}</h5> </aside> <h3 class="fecha1"></h3></p>`;
        }
         //script para ao clicar no botao submit apagar os valores localStorage  e assim deletar o evento
        const deletaEventoOriginal = document.getElementById('btnExcluir');
        deletaEventoOriginal.addEventListener('click', (e) => {
        e.preventDefault();
        alert("Deletado com sucesso!");  
        localOriginal = 'null'
        dataOriginal= 'null'
        cidadeOriginal = 'null'
        localStorage.setItem('localOriginal', localOriginal) 
        localStorage.setItem('dataOriginal', dataOriginal)  
        localStorage.setItem('cidadeOriginal', cidadeOriginal)                
        document.getElementById("eventoOriginal").remove();
        location.reload()
         })

        const deletaEvento = document.getElementById('btnExcluir1');
        deletaEvento.addEventListener('click', (e) => {
        e.preventDefault();
        alert("Deletado com sucesso!");
        local = 'null'
        data= 'null'
        cidade = 'null'
        localStorage.setItem('local', local) 
        localStorage.setItem('data', data)  
        localStorage.setItem('cidade', cidade)   
        document.getElementById("evento").remove();
        location.reload()
         })
    </script>
</html>